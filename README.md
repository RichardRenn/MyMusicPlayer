# MyMusicPlayer

一个简单的iOS本地音乐播放器应用程序，支持播放本地MP3文件和显示LRC歌词。

## 功能特点

1. **文件夹选择**：启动后可选择本地音乐文件夹
2. **音乐扫描**：递归扫描选定文件夹中的MP3文件和同名LRC歌词文件
3. **树状结构展示**：以目录层级树状结构展示所有音乐文件
4. **多种播放模式**：支持顺序播放、单曲循环和随机播放
5. **播放范围锁定**：可锁定播放范围在当前歌曲所在目录内
6. **歌词同步显示**：播放时同步显示LRC歌词，支持自动滚动
7. **播放控制**：支持播放/暂停、上一曲、下一曲等基本控制功能

## 技术栈

- Swift 5
- UIKit
- AVFoundation（音频播放）
- FileManager（文件操作）

## 开始使用

### 前提条件

- Xcode 14.0 或更高版本
- iOS 15.0 或更高版本
- CocoaPods（可选，用于依赖管理）

### 安装和运行

1. 克隆或下载本项目到本地
2. 使用Xcode打开 `MyMusicPlayer.xcodeproj`
3. 选择目标设备（真机或模拟器）
4. 点击运行按钮（▶️）编译并运行应用程序

### 使用说明

1. **选择音乐文件夹**：首次启动应用时，点击"选择文件夹"按钮，浏览并选择包含音乐文件的文件夹
2. **等待扫描完成**：应用会自动扫描文件夹中的MP3文件，扫描进度将在进度条中显示
3. **浏览音乐列表**：扫描完成后，您可以在列表中看到以树状结构组织的音乐文件
   - 点击文件夹图标可展开或折叠目录
   - 点击音乐文件可开始播放
4. **使用播放控制**：
   - 底部横幅显示当前播放歌曲信息
   - 提供播放/暂停、上一曲、下一曲等控制按钮
   - 点击播放模式按钮可切换播放模式
   - 点击锁定按钮可锁定播放范围
5. **查看歌词**：点击底部横幅可进入播放详情页面，查看同步滚动的歌词

## 注意事项

- 应用需要访问文件系统权限，请确保在首次运行时允许访问
- 歌词文件必须与MP3文件同名且扩展名为.lrc
- 目前仅支持MP3格式的音频文件
- 为获得最佳体验，建议使用标准格式的LRC歌词文件

## 项目结构

```
MyMusicPlayer/
├── MyMusicPlayer/
│   ├── AppDelegate.swift        # 应用程序入口
│   ├── SceneDelegate.swift      # 场景会话管理
│   ├── ViewController.swift     # 初始视图控制器（文件夹选择）
│   ├── MusicListViewController.swift  # 音乐列表视图控制器
│   ├── MusicPlayerViewController.swift  # 播放详情视图控制器
│   ├── MusicPlayer.swift        # 音乐播放器核心逻辑
│   ├── MusicScanner.swift       # 音乐文件扫描器
│   ├── MusicItem.swift          # 音乐数据模型
│   ├── LyricsParser.swift       # 歌词解析器
│   ├── Info.plist               # 应用配置文件
│   └── Base.lproj/
│       ├── Main.storyboard      # 主界面故事板
│       └── LaunchScreen.storyboard  # 启动界面故事板
├── MyMusicPlayer.xcodeproj/     # Xcode项目文件
└── README.md                    # 项目说明文档
```

## 许可证

本项目仅供学习和参考使用。